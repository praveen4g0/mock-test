oc export is,bc,dc,svc,route --as-template > mytemplate.yml


Creating an Application from a Template

You can deploy an application directly from a template resource definition file. The web console, the oc new-app command, and the oc process command can all take the template file as input and process it to apply parameters and create resources.

You can also pass a template file to the oc create command to create a template resource in OpenShift. If the template is meant to be reused by multiple developers, it is better to create the template resource in a shared project. If the template is meant to be used by a single deployment, it is better to keep it in a file.

Whereas the oc new-app command creates resources from the template, the oc process command creates a resource list from the template. You need to either save the resource list generated by the oc process command to a file, or pass it as input to the oc create command to create the resources from the list.

For both the oc new-app command and the oc process command, each parameter value has to be provided using a different -p option. Another option that both commands accept is the -l option, which adds a label to all resources created from the template.

The following is an example oc new-app command that deploys an application from a template file:

oc new-app --file mytemplate.yaml -p PARAM1=value1 -p PARAM2=value2
The following is an example oc process command that deploys an application from a template file:

oc process -f mytemplate.yaml -p PARAM1=value1 -p PARAM2=value2 \
    > myresourcelist.yaml
The file generated by the previous example would then be given to the oc create command:

oc create -f myresourcelist.yaml
You can combine the previous two examples using a pipe:

oc process -f mytemplate.yaml -p PARAM1=value1 -p PARAM2=value2 \
    | oc create -f -
Red Hat recommends using the oc new-app command rather than the oc process command. The oc process command provides an exclusive feature that lists only the parameters defined by the template:

oc process -f mytemplate.yaml --parameters
